## 6.1 图的概念

1. 图的定义

    图G由顶点集V和边集E组成，即为$G=(V, E)$。其中$V(G)$表示顶点的有限非空集，$E(G)$表示顶点之间的边集合。若$V=\{v_1,v_2,\dots,v_n\}$，则$|V|$表示图中顶点的个数，$E=\{(u,v)|u\in V, v\in V\}$，用$|E|$表示边的条数。

    **注意**：图不能是空图。但可以有顶点无边。

2. 有向图

    若$E$是**有向边**的有限集合时，则图G为有向图，一个有向边可以表示为$<u,v>$，此时$u$为起点，$v$为终点，代表$u$指向$v$。

3. 无向图

    若$E$是**无向边**则图G为无向图。一个无向边可以表示为$(u,v)$

4. 简单图、多重图

    一个图G如果满足

    1. 不存在重边
    2. 不存在指向自身的边

    那么称G为**简单图**，否则则为**多重图**。

5. 完全图

    对于**无向图**，$|E|$的取值为0~$n(n-1)/2$，有$n(n-1)/2$条边的**无向图**为**完全图**，即任意两个顶点间都存在边。

    对于**有向图**，若任意两个顶点都存在两条方向相反的边则为**有向完全图**。

6. 子图

    如果$E'$为$E$的子集，$V'$为$V$的子集，则图$G'=(V', E')$为图$G=(V,E)$的子图。

    **注意**：不是$E$和$V$的任意子集都可以构成图，需要保证边子集中的点在点子集中。

7. 连通、连通图和连通分量

    在无向图中，若从顶点$v$到$w$有路径存在，则称$v$和$w$时**连通**的，若$G$中任意两个顶点**连通**，则图$G$为**连通图**，否则为**非连通图**。

    **极大连通子图**（**连通分量**）：图G中一个顶点数最多的连通子图。

8. 强连通图、强连通分量

    在有向图中，若顶点$v$到$w$和$w$到$v$之间都有路径，则称两个顶点是**强连通**的，若任意两个顶点都是**强连通**的，则图为**强连通图**。
    有向图中的**极大强连通子图**称为**强连通分量**。

    **注意**：强连通图最少边为$n-1$，即$n$个点构成一个单项环路。

9. 生成树、生成森林

    连通图的**生成树**是包含图中所有结点的一个极小连通子图。即$n$个点只有$n-1$条边。

    在连通图中，连通分量的生成树构成了非连通图的生成森林。

10. 顶点的度、入度和出度

    无向图中，顶点的度是指相连的边的条数，记为$\mathrm{TD}(v)$。

    对于$n$个顶点$e$条边的图有：

    $$
    \sum_{i=1}^{n}\mathrm{TD}(v_i) = 2e
    $$

    有向图中，指向一个顶点的边则为该顶点的**入度**，记为$\mathrm{ID}(v)$。从该顶点指向其他顶点的边数则为**出度**，记为$\mathrm{OD}(v)$。同时有$\mathrm{TD}(v)=\mathrm{ID}(v)+\mathrm{OD}(v)$。

    对于$e$条边的图有

    $$
    \sum_{i=1}^{n}\mathrm{ID}(v_i) = \sum_{i=1}^{n}\mathrm{OD}(v_i) = e
    $$

11. 边的权和网

    若为每条边加上数值，则为边的**权值**（例如长度）。带有权值的图称为**带权图**，也称**网**。

12. 稠密图、稀疏图

    边很少叫**稀疏图**，边很多为**稠密图**。多和少无具体定义，是相对其他图比较而言。

    但一般当$|E|<|V|\log{|V|}$时可视为**稀疏图**。

13. 路径、路径长度和回路

    **路径**是指从$v$到$w$的路径上的顶点序列$v,v_i,\dots,v_j,w$。路径上边的数目称为**路径长度**。

    第一个顶点和最后一个顶点相同的路径称为**回路**或**环**。若一个图有$n$个顶点，并且边满足$e>n-1$，则一定有回路。

14. 简单路径、简单回路

    在路径序列中，顶点不重复出现的路径称为**简单路径**，除第一个顶点和最后一个顶点外其他顶点不重复的回路称为**简单回路**。

15. 距离

    若存在$v$到$w$的路径，则路径长度为$v$到$w$的**距离**，若不存在任何路径，则距离可视为无穷。

16. 有向树

    一个顶点的入度为0、其余顶点入度均为1的有向树（即从根结点往下指  向），称为有向树。

## 6.2 图的存储及基本操作

1. 邻接矩阵

    用一个一维数组存储图中顶点信息。用一个二位数组存储边的信息。

    $$
    A_{ij} = \begin{cases}
        1,&v_i,v_j邻接\\
        0,&v_i,v_j不邻接
    \end{cases}
    $$

    对于带权图则可以

    $$
    A_{ij} = \begin{cases}
        w_{ij},&v_i,v_j邻接\\
        0或\infin,&v_i,v_j不邻接
    \end{cases}
    $$

    空间复杂度为$O(n^2)$，$n$为顶点数$|V|$。

    特点：

    1. 无向图的邻接矩阵一定对称，此时可以压缩为三角矩阵。
    2. 无向图邻接矩阵第i行非零元素为顶点i的度$\mathrm{TD}(v_i)$。
    3. 有向图第i行的非零元素是顶点i的出度，第i列的非零元素为顶点i的入度。
    4. 邻接矩阵可以$O(1)$确定两个顶点是否相连，但要确定边数需要按行按列全部累加。
    5. 稠密图适合邻接矩阵。
    6. 图G的邻接矩阵为$A$，则$A^n$中元素$A^n_{ij}$则为顶点i到顶点j的长度为n的路径的数目。

2. 邻接表

    对每个顶点建立一个单链表，第i个单链表中的结点表示依附于$v_i$的边，称为**边表**，

    特点：

    1. 无向图需要$O(|V|+2|E|)$空间，有向图需要$O(|V|+|E|)$空间。
    2. 稀疏图适合邻接表。
    3. 邻接表给定一个顶点很容易就能找出它的所有邻边，但确认两个顶点是否存在邻边则需要$O(n)$。
    4. 有向图中，求出度只需计算邻接表结点个数，但入度则需遍历所有边表。
    5. 邻接表不唯一，边表中结点次序可以任意。

3. 十字链表

    一种**有向图**的存储结构，每条边有一个结点，每个顶点也有一个结点。
    
    顶点结点为`data|firstin|firstout`，边结点为`tailvex|headvex|hlink|tlink|(info)`。

    `headvex`和`tailvex`分别表示弧头和弧尾，`hlink`指向下一个弧头相同的边结点，`tlink`指向下一个弧尾相邻的边结点，`info`存放相关信息。这样相同的弧头有一张链表，相同的弧尾也有一张链表。

    顶点中的`firstin`指向以该节点作为弧头的第一个边结点，`firstout`指向以该节点作为弧尾的第一个边结点。并且定点表顺序存储。

4. 邻接多重表

    一种**无向图**的存储结构。

    顶点结点为`data|firstedge`，边结点为`ivex|ilink|jvex|jlink|info`。

    `ivex`和`jvex`代表边两边的两个顶点，`ilink`、`jlink`分别指向下一条依附`ivex`、`jvex`的边结点。

    `firstedge`指向该顶点第一条边。

    此时寻找`i`和`j`是否相接则从`i`的边结点开始依次往`ilink`遍历寻找是否有`j`。

5. 基本操作

    ```cpp
    Adjacent(G, x, y)           // 判断图G是否存在边<x,y>或(x,y)
    Neighbors(G, x)             // 列出图G中与x邻接的边
    InsertVertex(G, x)          // 从图G中插入顶点x
    DeleteVertex(G, x)          // 从图G中删除顶点x
    AddEdge(G, x, y)            // 添加边(x,y)或<x, y>
    RemoveEdge(G, x, y)         // 移除边(x,y)或<x, y>
    FirstNeighbor(G, x)         // 返回顶点x的第一个邻接点，没有返回-1
    NextNeighbor(G, x, y)       // 设y是x的邻接点，返回除y之外的下一个邻接点，若y是最后一个返回-1
    GetEdgeValue(G, x, y)       // 获取边(x,y)或<x, y>的权值
    SetEdgeValue(G, x, y, v)    // 设置边(x,y)或<x, y>的权值
    ```
